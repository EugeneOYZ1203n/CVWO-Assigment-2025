const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ActivityList-DbAsuBFP.js","assets/index-B4P94b6n.js","assets/index-DyaJ3fSD.css","assets/config-DPgW2cer.js","assets/badge-xXank799.js","assets/ActivityDisplay-Qkymk_CI.js","assets/dialog-CF30rZ9j.js","assets/field-DAEJaVN4.js","assets/ActivityForm-BeQ0Dg-h.js","assets/ActivityForm-DFmwLN0p.css"])))=>i.map(i=>d[i]);
import{c as P,r as i,a as Oe,b as E,d as _e,e as ee,L as Me,m,j as n,f as h,g as De,h as Le,i as Re,k as Ue,n as Ge,l as te,o as Fe,C as ze,p as Ve,S as We,G as y,B as Be,I as B,R as $e,_ as T,q as N}from"./index-B4P94b6n.js";import{a as w,u as He,B as S,T as C,b as qe,V as O,I as Xe,c as ne}from"./config-DPgW2cer.js";const[yt,Qe]=P({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function A(t,e={}){const{sync:o=!1}=e,r=Ye(t);return i.useCallback((...s)=>{var a;return o?queueMicrotask(()=>{var c;return(c=r.current)==null?void 0:c.call(r,...s)}):(a=r.current)==null?void 0:a.call(r,...s)},[o,r])}function Ye(t){const e=i.useRef(t);return e.current=t,e}function Je(t,e,o){const r=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&r,present:r,setNode(s){s&&e({type:"NODE.SET",node:s})},unmount(){e({type:"UNMOUNT"})}}}function Ke(t){return Oe({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){var o,r;return $((o=e.styles)==null?void 0:o.animationDuration)+$((r=e.styles)==null?void 0:r.animationDelay)+Ze}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},invokeOnExitComplete(e){var o;(o=e.onExitComplete)==null||o.call(e)},setNode(e,o){e.node=E(o.node)},setStyles(e,o){const r=o.node.ownerDocument.defaultView||window;e.styles=E(r.getComputedStyle(o.node))},syncPresence(e,o,{send:r}){var c;if(e.present){r({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&((c=e.node)==null?void 0:c.ownerDocument.visibilityState)==="hidden"){r({type:"UNMOUNT",src:"visibilitychange"});return}const s=I(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{var l,u;e.unmountAnimationName=s,s==="none"||s===e.prevAnimationName||((l=e.styles)==null?void 0:l.display)==="none"||((u=e.styles)==null?void 0:u.animationDuration)==="0s"?r({type:"UNMOUNT",src:"presence.changed"}):r({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=I(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,o,{send:r}){const s=e.node;if(!s)return;const a=l=>{var d,p;(((p=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:p[0])??l.target)===s&&(e.prevAnimationName=I(e.styles))},c=l=>{var p,v;const u=I(e.styles);(((v=(p=l.composedPath)==null?void 0:p.call(l))==null?void 0:v[0])??l.target)===s&&u===e.unmountAnimationName&&r({type:"UNMOUNT",src:"animationend"})};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",c),s.addEventListener("animationend",c),()=>{s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",c),s.removeEventListener("animationend",c)}}}})}function I(t){return(t==null?void 0:t.animationName)||"none"}function $(t){return parseFloat(t||"0")*1e3}var Ze=16.667;_e()(["onExitComplete","present","immediate"]);const oe=t=>{const{lazyMount:e,unmountOnExit:o,...r}=t,s=i.useRef(!1),a={...r,onExitComplete:A(t.onExitComplete)},[c,l]=ee(Ke(a),{context:a}),u=Je(c,l);u.present&&(s.current=!0);const d=!u.present&&!s.current&&e||o&&!u.present&&s.current,p=()=>({"data-state":t.present?"open":"closed",hidden:!u.present});return{ref:u.setNode,getPresenceProps:p,present:u.present,unmounted:d}},[re,se]=P({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),ae=t=>w()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]),_=t=>E(new Me(t)),[ie,g]=P({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),le=i.forwardRef((t,e)=>{const o=g(),r=m(o.getClearTriggerProps(),t);return n.jsx(h.button,{...r,ref:e})});le.displayName="SelectClearTrigger";const ce=i.forwardRef((t,e)=>{const o=g(),r=se(),s=m(o.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:n.jsx(h.div,{...s,ref:De(r.ref,e)})});ce.displayName="SelectContent";const de=i.forwardRef((t,e)=>{const o=g(),r=m(o.getControlProps(),t);return n.jsx(h.div,{...r,ref:e})});de.displayName="SelectControl";const ue=i.forwardRef((t,e)=>{const o=g(),r=m(o.getIndicatorProps(),t);return n.jsx(h.div,{...r,ref:e})});ue.displayName="SelectIndicator";const[et,wt]=P({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[tt,pe]=P({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),me=i.forwardRef((t,e)=>{const[o,r]=w()(t,["item","persistFocus"]),s=g(),a=m(s.getItemProps(o),r),c=s.getItemState(o);return n.jsx(tt,{value:o,children:n.jsx(et,{value:c,children:n.jsx(h.div,{...a,ref:e})})})});me.displayName="SelectItem";const[nt,ot]=P({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),he=i.forwardRef((t,e)=>{const o=i.useId(),[r,s]=w()(t,["id"]),a={id:o,...r},c=g(),l=m(c.getItemGroupProps(a),s);return n.jsx(nt,{value:a,children:n.jsx(h.div,{...l,ref:e})})});he.displayName="SelectItemGroup";const fe=i.forwardRef((t,e)=>{const o=g(),r=ot(),s=m(o.getItemGroupLabelProps({htmlFor:r.id}),t);return n.jsx(h.div,{...s,ref:e})});fe.displayName="SelectItemGroupLabel";const ge=i.forwardRef((t,e)=>{const o=g(),r=pe(),s=m(o.getItemIndicatorProps(r),t);return n.jsx(h.div,{...s,ref:e})});ge.displayName="SelectItemIndicator";const ve=i.forwardRef((t,e)=>{const o=g(),r=pe(),s=m(o.getItemTextProps(r),t);return n.jsx(h.span,{...s,ref:e})});ve.displayName="SelectItemText";const xe=i.forwardRef((t,e)=>{const o=g(),r=m(o.getLabelProps(),t);return n.jsx(h.label,{...r,ref:e})});xe.displayName="SelectLabel";const Se=i.forwardRef((t,e)=>{const o=g(),r=m(o.getPositionerProps(),t);return se().unmounted?null:n.jsx(h.div,{...r,ref:e})});Se.displayName="SelectPositioner";const rt=t=>{const{collection:e,...o}=t,r=Qe(),s=Le(),a=He(),c={id:i.useId(),ids:{label:a==null?void 0:a.ids.label,hiddenSelect:a==null?void 0:a.ids.control},disabled:a==null?void 0:a.disabled,readOnly:a==null?void 0:a.readOnly,invalid:a==null?void 0:a.invalid,required:a==null?void 0:a.required,dir:r.dir,getRootNode:s.getRootNode,collection:e,open:t.defaultOpen,value:t.defaultValue,"open.controlled":t.open!==void 0,...o},l=(()=>{const{collection:v,...j}=c;return{...j,value:t.value,onValueChange:A(t.onValueChange,{sync:!0}),onHighlightChange:A(t.onHighlightChange),onOpenChange:A(t.onOpenChange)}})(),[u,d,p]=ee(Re(c),{context:l});return i.useEffect(()=>{p.setContext({collection:e})},[e]),Ue(u,d,Ge)},st=(t,e)=>{const[o,r]=ae(t),[s,a]=w()(r,["closeOnSelect","collection","composite","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),c=rt(s),l=oe(m({present:c.open},o)),u=m(c.getRootProps(),a);return n.jsx(ie,{value:c,children:n.jsx(re,{value:l,children:n.jsx(h.div,{...u,ref:e})})})},at=i.forwardRef(st),it=(t,e)=>{const[o,r]=ae(t),[{value:s},a]=w()(r,["value"]),c=oe(m({present:s.open},o)),l=m(s.getRootProps(),a);return n.jsx(ie,{value:s,children:n.jsx(re,{value:c,children:n.jsx(h.div,{...l,ref:e})})})},lt=i.forwardRef(it),Pe=i.forwardRef((t,e)=>{const o=g(),r=m(o.getTriggerProps(),t);return n.jsx(h.button,{...r,ref:e})});Pe.displayName="SelectTrigger";const Ce=i.forwardRef((t,e)=>{const{children:o,placeholder:r,...s}=t,a=g(),c=m(a.getValueTextProps(),s);return n.jsx(h.span,{...c,ref:e,children:o||a.valueAsString||r})});Ce.displayName="SelectValueText";const ye=te("div",{base:{display:"flex",alignItems:"center",justifyContent:"center"},variants:{inline:{true:{display:"inline-flex"}}}});ye.displayName="Center";const{withProvider:we,withContext:f,useStyles:jt,PropsProvider:Nt}=Fe({key:"select"});we(lt,"root",{forwardAsChild:!0});const H=we(at,"root",{forwardAsChild:!0}),q=f(Pe,"trigger",{forwardAsChild:!0});f(Se,"positioner",{forwardAsChild:!0});const X=f(ce,"content",{forwardAsChild:!0}),Q=f(Ce,"valueText",{forwardAsChild:!0});f(le,"clearTrigger",{forwardAsChild:!0});f(he,"itemGroup",{forwardAsChild:!0});f(fe,"itemGroupLabel",{forwardAsChild:!0});const Y=f(me,"item",{forwardAsChild:!0});f(ve,"itemText",{forwardAsChild:!0});f(ge,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:n.jsx(ze,{})}});f("div","indicatorGroup");f(ue,"indicator",{forwardAsChild:!0,defaultProps:{children:n.jsx(Ve,{})}});f(de,"control",{forwardAsChild:!0});f(xe,"label",{forwardAsChild:!0});const je=te("div",{base:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});je.displayName="Spacer";const b=i.forwardRef(function(e,o){return n.jsx(We,{align:"center",...e,direction:"row",ref:o})});function ct(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(t)}const dt=({username:t,onAddActivity:e})=>n.jsx(S,{bg:"teal.600",color:"white",px:8,py:4,shadow:"md",children:n.jsxs(b,{spaceX:4,w:"full",children:[n.jsx(C,{fontSize:"2xl",fontWeight:"bold",children:"Hangout Hub"}),n.jsx(je,{}),n.jsxs(C,{fontSize:"md",children:["Hello, ",t,"!"]}),n.jsxs(Be,{colorScheme:"teal",onClick:e,children:[n.jsx(qe,{children:n.jsx(ct,{})}),"Add Activity"]})]})});function ut(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function pt(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function It(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function At(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}const mt=t=>{const e=new Date(t),o=String(e.getDate()).padStart(2,"0"),r=e.toLocaleString("en-US",{month:"short"});return`${o} ${r}`},ht=({activities:t})=>{const e=i.useRef(null),[o,r]=i.useState(!0),s=()=>{e.current&&e.current.scrollBy({left:-200,behavior:"smooth"})},a=()=>{e.current&&e.current.scrollBy({left:200,behavior:"smooth"})};i.useEffect(()=>{if(e.current){const l=e.current,u=l.scrollWidth>l.clientWidth;r(u)}},[t]);const c=t.filter(l=>new Date(l.start_date)>new Date).sort((l,u)=>new Date(l.start_date).getTime()-new Date(u.start_date).getTime()).slice(0,10);return n.jsxs(S,{children:[n.jsx(C,{fontSize:"xl",fontWeight:"bold",color:"teal.600",mb:0,children:"Upcoming Events"}),n.jsxs(b,{children:[o&&n.jsx(B,{"aria-label":"Scroll Left",onClick:s,color:"teal.500",background:"transparent",_hover:{color:"teal.700"},zIndex:1,children:n.jsx(ut,{})}),n.jsx(S,{ref:e,overflowX:"auto",py:4,css:{scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"}},children:n.jsx(b,{spaceX:-2,align:"stretch",divideX:"1px",divideColor:"teal.500",children:c.map(l=>n.jsx(S,{minW:"200px",maxW:"200px",paddingX:4,paddingY:4,children:n.jsxs(O,{children:[n.jsx(C,{fontSize:"2xl",fontWeight:"bold",color:"white",children:mt(l.start_date)}),n.jsx(C,{fontSize:"sm",color:"teal.500",lineClamp:"1",children:l.title})]})},l.activity_id))})}),o&&n.jsx(B,{"aria-label":"Scroll Right",onClick:a,color:"teal.500",background:"transparent",_hover:{color:"teal.700"},zIndex:1,children:n.jsx(pt,{})})]})]})},bt=new Map([["Sports and Exercise","red"],["Outdoor Adventures","green"],["Shows and Movies","blue"],["Creative Workshops","purple"],["Museums and Culture","yellow"],["Social and Group Games","orange"],["Work and Study","cyan"],["Others","gray"]]),J=_({items:[{label:"Start Date",value:"start_date"},{label:"Create Date",value:"created_at"},{label:"Updated Date",value:"updated_at"},{label:"Status",value:"status"}]}),K=new Map([["Planning",1],["Finalizing",2],["Confirmed",3],["Completed",4]]),Z=_({items:[{label:"Sports and Exercise",value:"Sports and Exercise"},{label:"Outdoor Adventures",value:"Outdoor Adventures"},{label:"Shows and Movies",value:"Shows and Movies"},{label:"Creative Workshops",value:"Creative Workshops"},{label:"Museums and Culture",value:"Museums and Culture"},{label:"Social and Group Games",value:"Social and Group Games"},{label:"Work and Study",value:"Work and Study"},{label:"Others",value:"Others"}]}),kt=_({items:[{label:"Planning",value:"Planning"},{label:"Finalizing",value:"Finalizing"},{label:"Confirmed",value:"Confirmed"},{label:"Completed",value:"Completed"}]}),ft=({activities:t,setActivities:e})=>{const[o,r]=i.useState(""),[s,a]=i.useState("start_date"),[c,l]=i.useState([]),u=()=>{let d=t.filter(p=>p.title.toLowerCase().includes(o.toLowerCase()));c.length>0&&(d=d.filter(p=>c.includes(p.category))),d=d.sort((p,v)=>s==="start_date"?new Date(p.start_date).getTime()-new Date(v.start_date).getTime():s==="created_at"?new Date(v.created_at).getTime()-new Date(p.created_at).getTime():s==="updated_at"?new Date(v.updated_at).getTime()-new Date(p.updated_at).getTime():s==="status"?(K.get(p.status)??0)-(K.get(v.status)??0):0),e(d)};return i.useEffect(()=>{u()},[o,s,c,t]),n.jsx(S,{width:"full",p:4,borderRadius:"md",children:n.jsxs(O,{align:"center",children:[n.jsx(Xe,{placeholder:"Search activities",value:o,onChange:d=>r(d.target.value),size:"md",width:"80%",borderColor:"teal.500",_hover:{borderColor:"teal.700"}}),n.jsxs(b,{align:"stretch",width:"80%",children:[n.jsx(S,{width:"1/4",children:n.jsxs(H,{value:[s],onValueChange:d=>a(d.value[0]),collection:J,size:"sm",children:[n.jsx(q,{children:n.jsx(Q,{placeholder:"Start Date"})}),n.jsx(X,{position:"absolute",children:J.items.map(d=>n.jsx(Y,{item:d,children:d.label},d.value))})]})}),n.jsx(S,{width:"3/4",children:n.jsxs(H,{value:c,onValueChange:d=>l(d.value),collection:Z,size:"sm",multiple:!0,children:[n.jsx(q,{children:n.jsx(Q,{placeholder:"Filter categories"})}),n.jsx(X,{position:"absolute",children:Z.items.map(d=>n.jsx(Y,{item:d,children:d.label},d.value))})]})})]})]})})},gt=async()=>{try{const t=await fetch(`${ne.backendPath}/api/activities`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch activities");return await t.json()}catch(t){throw console.error("Error fetching activities:",t),t}},vt=async t=>{try{const e=await fetch(`${ne.backendPath}/api/users/${t}/activities`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch activities");return await e.json()}catch(e){throw console.error("Error fetching activities:",e),e}},xt=$e.lazy(()=>T(()=>import("./ActivityList-DbAsuBFP.js"),__vite__mapDeps([0,1,2,3,4]))),St=({username:t,user_id:e})=>{const[o,r]=i.useState([]),[s,a]=i.useState([]),[c,l]=i.useState([]),[u,d]=i.useState(!0),[p,v]=i.useState(!1),[j,M]=i.useState(!1),[D,L]=i.useState(null),[R,Ne]=i.useState(!0),[U,Ie]=i.useState(null),[G,Ae]=i.useState(null);i.useEffect(()=>{(async()=>{try{const k=await gt();r(k);const Te=await vt(e);a(Te||[])}catch(k){console.error("Error fetching activities:",k)}finally{d(!1)}})()},[R]),i.useEffect(()=>{T(()=>import("./ActivityDisplay-Qkymk_CI.js"),__vite__mapDeps([5,1,2,3,6,7,4])).then(x=>{Ae(()=>x.default)}),T(()=>import("./ActivityForm-BeQ0Dg-h.js"),__vite__mapDeps([8,1,2,7,3,6,9])).then(x=>{Ie(()=>x.default)})},[]);const be=()=>{F(null)},ke=x=>{F(x)},F=x=>{M(!0),p&&V(),L(x)},z=()=>{M(!1)},Ee=x=>{v(!0),j&&z(),L(x)},V=()=>{v(!1)},W=()=>{Ne(!R)};return n.jsx(S,{children:u?n.jsx(ye,{height:"100vh",children:n.jsx(N,{size:"xl",color:"teal"})}):n.jsxs(n.Fragment,{children:[n.jsxs(S,{zIndex:10,position:"fixed",left:0,top:0,width:"full",children:[p&&(G!=null?n.jsx(G,{activity:D,onClose:V,onUpdateData:W,onEdit:ke,user_id:e}):n.jsx(N,{alignSelf:"center",colorPalette:"teal"})),j&&(U!=null?n.jsx(U,{activity:D,onClose:z,onUpdateData:W,user_id:e}):n.jsx(N,{alignSelf:"center",colorPalette:"teal"}))]}),n.jsxs(O,{align:"stretch",w:"full",p:4,spaceY:4,children:[n.jsx(dt,{username:t,onAddActivity:be}),n.jsx(ht,{activities:o}),n.jsx(ft,{activities:o,setActivities:l}),n.jsx(i.Suspense,{fallback:n.jsx(N,{alignSelf:"center",colorPalette:"teal"}),children:n.jsx(xt,{activities:c,participated:s,onCardClick:Ee})})]})]})})},Et=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"}));export{At as F,b as H,Et as M,re as P,je as S,Qe as a,A as b,bt as c,oe as d,It as e,mt as f,H as g,Z as h,q as i,Q as j,X as k,Y as l,kt as m,ae as s,se as u};
